<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>后端</title>
</head>
<body>
    <div>
        <ul>
            <li><h1>网络与IP</h1></li>
            <li><h2> TCP传输协议：</h2></li>
            <li><h4> TCP 和 UDP 的区别：</h4></li>
            <li> TCP 可靠、面向连接、相对 UDP 较慢；UDP 不可靠，不面向连接、相对 TCP 较快</li>
            <li>http协议：控制如何书写内容的协议</li>
            <li>
                <h2>TCP传输协议的三次握手：</h2>
                客户端：我要连接你了，可以吗？<br>
                服务器：嗯，我准备好了，连吧！<br>
                客户端：那我连接你喽！
            </li>
            <li><h2> IP网络协议：</h2></li>
            <li>你从电信那里买来带宽，一年一千多，为你提供 DNS 服务</li>
            <li>你买了一个路由器，然后用电脑和手机分别连接路由器广播出来的无线 WIFI</li>
            <li>只要路由器连上电信的服务器，那么路由器就会有一个「外网 IP」，就是一个外网 IP。这就是你在互联网中的地址。</li>
            <li>如果你重启路由器，那么你很有「可能」被重新分配一个「外网 IP」，也就是说 你的路由器没有「固定的外网 IP」，你可以花每年几千块钱租用一个「固定的外网 IP」，但是显然不会这么浪费钱。像腾讯、阿里这样的大公司租用了很多外网 IP，这样才能对我们提供稳定的服务</li>
            <li>路由器会在你家里创建一个内网，内网中的设备使用内网 IP，一般来说这个 IP 的格式都是 192.168.xxx.xxx</li>
            <li>一般路由会给自己分配一个好记的内网 IP，如 192.168.1.1
                然后路由会给每一个内网中的设备分配一个不同的内网 IP，如电脑是 192.168.1.2，手机是 192.168.1.3，以此类推</li>
            <li>现在路由器有两个 IP，一个外网 IP（14.17.32.211）和一个内网 IP（192.168.1.1）</li>
            <li>内网中的设备可以互相访问（比如你可以用电脑或手机进入 http://192.168.1.1 来查看你的路由器），但是不能直接访问外网，内网设备想要访问外网，就必须经过路由器中转</li>
            <li>外网中的设备可以互相访问,但是外网中的设备无法访问你的内网设备,外网和内网就是通过路由器来中转，也就是说内网和外网就像两个隔绝的空间，无法互通，唯一的联通点就是路由器，所以路由器有时候也被叫做「网关」</li>
            <li>除了内网 IP 和外网 IP，还有两个特别特殊的 IP:就是本地 IP：127.0.0.1;还有一个特别特殊的 IP：0.0.0.0，它不表示任何设备。这个 IP 不同的地方含义不同</li>
            <br>
            <li>http协议是在 TCP（传输控制协议Transmission Control Protocol）协议和 TP (网络协议Internet Protocol)协议基础上的</li>
            <li>使用 HTTP 协议访问另一个 IP 时，必须同时提供 IP 和端口号，缺一不可</li>
            <li>访问 http://qq.com 时并没有提供端口号，为什么我依然可以访问答：因为浏览器帮你加了默认端口号 80</li>
                <hr>
            <li>
                <h2>用Server（服务器）接受请求</h2>
            </li>
            <li><h4>用脚本提供HTTP服务</h4></li>
            <li>用bash 脚本和node.js都可以</li>
            <p></p><hr>
            <li><h2>写node.js服务器步骤：</h2></li>
            <li><h4>用Server（服务器）接受请求:</h4></li>
            <li> 第一：在一个安全的地方新建文件，里头建立相应的js文件</li>
            <li> 第二：在上面的文件里编写服务器功能的代码（echo）或curl + 文件路径</li>
            <li> 第三： cat + 文件名 => 显示代码内容（这一步可忽略）</li>
            <li> 第四：运行服务器node server.js(或node server);会报错，端口问题</li>
            <li> 第五：重新运行：node server.js 端口号：1024往后的数字（因为前1024是系统保留的，有管理员权限才能使用）</li>
            <li> 第六：在终端或 git bash 里面访问地址，访问方法：curl 服务器路径(或者本地IP：127.0.0.1) ：端口号/访问路径（可带参数）</li>
            <li> 最后实现功能</li>
            <li><h4>用Server（服务器）发送响应:</h4></li>
            <li> 第一：在一个安全的地方新建文件，里头建立相应的js文件</li>
            <li> 第二：在上面的文件里编写服务器功能的代码（echo）或curl + 文件路径</li>
            <li> 第三： cat + 文件名 => 显示代码内容（这一步可忽略）</li>
            <li> 
                第一到第三步和server请求一样，只不过表达功能的代码有所改变：  <br>
                response.write(hi\n)  <br>
                response.end()   <br>
                又或者：  <br>
                实现多种功能：在if-else语句里嵌套response语句   <br>
                想看详细代码请点击 <a href="https://raw.githubusercontent.com/cnqinglin/node_demo/master/server-response.html" target="_blanket"> github </a>
            </li>
            <li> 第四步：运行node server.js……</li>
            <li> 
                第五步：在终端或 git bash 里面访问地址，访问方法：curl -s -v -- "服务器路径(或者本地IP：127.0.0.1) ：端口号/访问路径（可带参数）"  <br>
                curl -s -v -- "服务器路径(或者本地IP：127.0.0.1) ：端口号    //响应 200（默认）  <br>
                curl -s -v -- "服务器路径(或者本地IP：127.0.0.1) ：端口号/根目录    //响应 404
            </li>
            <li> <h2>服务器总结：</h2></li>
            <li> http路径不是文件路径</li>
            <li> 服务器请求响应当中路径后缀没有任何用处</li>
            <li> 在终端端或新开的git bash 中运行服务器之后，请求的文件内容最后有 % ，这是结束的意思，若想去掉代码里头写一个 \n就可以了</li>
            <li> </li>
        </ul>
    </div>
</body>
</html>